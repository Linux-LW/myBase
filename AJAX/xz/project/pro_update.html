<!DOCTYPE html>
<html>
<head>
	<title>修改用户信息</title>
</head>
<body>
	编号<input type="text" id="uid"><br>
	昵称<input type="text" id="uname"><br>
	密码<input type="text" id="upwd"><br>
	邮箱<input type="text" id="email"><br>
	电话<input type="text" id="phone"><br>
	头像<input type="file" id="avatar"><br>
	真姓<input type="text" id="user_name"><br>
	性别<input type="number" id="gender"><br>
	<button onclick="update()">修改</button>
	<div id="d1"></div>
</body>
	<script type="text/javascript">
		function update(){
			var $uid=uid.value;
			var $uname=uname.value;
			var $upwd=upwd.value;
			var $email=email.value;
			var $phone=phone.value;
			var $avatar=avatar.value;
			var $user_name=user_name.value;
			var $gender=gender.value;
			var xhr =new XMLHttpRequest()
			xhr.onreadystatechange=()=>{
				if(xhr.readyState==4 && xhr.status==200){
					var r=xhr.responseText;
					if(r>0){
						alert("修改成功")
					}else{
						alert("修改失败")
					}
				}
			}
var formdata=`uid=${$uid}&uname=${$uname}&upwd=${$upwd}&email=${$email}&phone=${$phone}&avatar=${$avatar}&user_name=${$user_name}&gender=${$gender}`;
			xhr.open('put',`/pro/v1/update`,true)
			xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
			xhr.send(formdata)
		}
	</script>
</html>